<link rel="stylesheet" href="{{ url_for('static', filename='css/pomodoro.css') }}" />
  <div class="container">
    <header>
      <div class="logo">
        <div class="logo-icon">üçÖ</div>
        <span>Focus Timer</span>
      </div>
      <div class="header-actions">
        <button class="icon-btn" id="statsBtn" title="‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥">üìä</button>
        <button class="icon-btn" id="settingsBtn" title="‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤">‚öôÔ∏è</button>
      </div>
    </header>

    <div class="main-card">
      <div class="mode-tabs">
        <button class="mode-tab active" data-mode="pomodoro">Pomodoro</button>
        <button class="mode-tab" data-mode="short">Shot Break</button>
        <button class="mode-tab" data-mode="long">Long Break</button>
      </div>

      <div class="timer-display">
        <div class="time" id="timeDisplay">25:00</div>
        <div class="progress-ring">
          <div class="progress-fill" id="progressBar"></div>
        </div>
      </div>

      <div class="controls">
        <button class="btn btn-primary" id="startBtn">Start</button>
        <button class="btn btn-secondary" id="resetBtn">Reset</button>
        <button class="btn btn-secondary" id="skipBtn">Skip</button>
      </div>

      <div class="status-info">
        <div class="badge">
          <span>üî•</span>
          <span id="cycleInfo">‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà #1</span>
        </div>
        <div class="badge">
          <span>üéØ</span>
          <span id="statusText">‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏°‡∏∏‡πà‡∏á‡∏°‡∏±‡πà‡∏ô!</span>
        </div>
      </div>
    </div>

    <div class="grid-layout">
      <div class="section-card">
        <div class="section-title">
          <span>üìù ‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</span>
          <span style="font-size: 14px; color: var(--text-muted);" id="taskCount">0 ‡∏á‡∏≤‡∏ô</span>
        </div>
        <div class="task-input">
          <input type="text" id="taskInput" placeholder="‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà..." maxlength="100">
          <button class="btn btn-primary" id="addTaskBtn">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
        </div>
        <ul class="task-list" id="taskList"></ul>
      </div>

      <div class="section-card">
        <div class="section-title">üìà ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
        <div class="stats-grid">
          <div class="stat-box">
            <div class="stat-value" id="completedPomodoros">0</div>
            <div class="stat-label">Pomodoros</div>
          </div>
          <div class="stat-box">
            <div class="stat-value" id="focusTime">0h</div>
            <div class="stat-label">‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏ü‡∏Å‡∏±‡∏™</div>
          </div>
          <div class="stat-box">
            <div class="stat-value" id="completedTasks">0</div>
            <div class="stat-label">‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à</div>
          </div>
          <div class="stat-box">
            <div class="stat-value" id="totalBreaks">0</div>
            <div class="stat-label">‡∏û‡∏±‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <dialog id="settingsDialog">
    <div class="modal-header">
      <h2 class="modal-title">‚öôÔ∏è ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</h2>
      <button class="icon-btn" id="closeSettings" style="width: 36px; height: 36px;">‚úï</button>
    </div>
    <div class="modal-body">
      <div class="settings-group">
        <label>Pomodoro (‡∏ô‡∏≤‡∏ó‡∏µ)</label>
        <input type="number" id="pomodoroTime" min="1" max="60" value="25">
      </div>
      <div class="settings-group">
        <label>‡∏û‡∏±‡∏Å‡∏™‡∏±‡πâ‡∏ô (‡∏ô‡∏≤‡∏ó‡∏µ)</label>
        <input type="number" id="shortBreakTime" min="1" max="30" value="5">
      </div>
      <div class="settings-group">
        <label>‡∏û‡∏±‡∏Å‡∏¢‡∏≤‡∏ß (‡∏ô‡∏≤‡∏ó‡∏µ)</label>
        <input type="number" id="longBreakTime" min="1" max="60" value="15">
      </div>
      <div class="settings-group">
        <label>‡∏û‡∏±‡∏Å‡∏¢‡∏≤‡∏ß‡∏ó‡∏∏‡∏Å‡πÜ (Pomodoros)</label>
        <input type="number" id="longBreakInterval" min="2" max="10" value="4">
      </div>
      <div class="checkbox-group">
        <input type="checkbox" id="autoStartBreaks" class="checkbox">
        <label for="autoStartBreaks">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏±‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</label>
      </div>
      <div class="checkbox-group">
        <input type="checkbox" id="soundEnabled" class="checkbox" checked>
        <label for="soundEnabled">‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</label>
      </div>
    </div>
    <div class="modal-actions">
      <button class="btn btn-secondary" id="resetStatsBtn">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</button>
      <button class="btn btn-primary" id="saveSettings">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
    </div>
  </dialog>

  <dialog id="statsDialog">
    <div class="modal-header">
      <h2 class="modal-title">üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÇ‡∏î‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</h2>
      <button class="icon-btn" id="closeStats" style="width: 36px; height: 36px;">‚úï</button>
    </div>
    <div class="modal-body">
      <div class="stats-grid">
        <div class="stat-box">
          <div class="stat-value" id="totalPomodoros">0</div>
          <div class="stat-label">Pomodoros ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
        </div>
        <div class="stat-box">
          <div class="stat-value" id="totalFocusTime">0h</div>
          <div class="stat-label">‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
        </div>
        <div class="stat-box">
          <div class="stat-value" id="totalTasksCompleted">0</div>
          <div class="stat-label">‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
        </div>
        <div class="stat-box">
          <div class="stat-value" id="streak">0</div>
          <div class="stat-label">‡∏ß‡∏±‡∏ô‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô</div>
        </div>
      </div>
    </div>
    <div class="modal-actions">
      <button class="btn btn-secondary" id="closeStatsBtn">‡∏õ‡∏¥‡∏î</button>
    </div>
  </dialog>

  <div class="notification" id="notification">
    <span id="notificationText"></span>
  </div>

  <script src="{{ url_for('static', filename='js/pomodoro.js') }}"></script>
  <script>
    // Initialize when fragment is loaded in SPA
    if (window.onLoadPomodoro) {
      window.onLoadPomodoro();
    }
  </script>